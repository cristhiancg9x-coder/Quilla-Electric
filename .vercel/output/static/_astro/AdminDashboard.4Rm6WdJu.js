import{j as e,o as g,c as w,d as b,a as h,u as j,s as k,b as L,w as V,q as T,l as Z,e as H}from"./config.Cl1_ynzc.js";import{r as d,R as O}from"./index.TcFrwHGi.js";import{c as i,Z as B,L as R,P as q,C as F}from"./zap.DiKErelk.js";import{l as G}from"./authStore.CjBhKLeq.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],C=i("activity",U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],K=i("bell",W);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J=i("check",Q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y=i("circle-check-big",X);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],se=i("cloud-upload",ee);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],M=i("database",ae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],N=i("dollar-sign",te);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],re=i("eye",le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ne=i("layout-dashboard",ie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],ce=i("lock-open",oe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xe=i("log-out",de);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],me=i("menu",pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ue=i("message-circle",he);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_=i("package",be);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],je=i("pen",ge);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],v=i("phone",fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],z=i("save",Ne);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ye=i("search",ve);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S=i("settings",we);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ce=i("trash-2",ke);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_e=i("trending-up",Me);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Se=i("triangle-alert",ze);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],P=i("user",Pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ie=i("users",De);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],$e=i("wrench",Ee);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Le=i("x",Ae);function Ve(){const[a,x]=d.useState([{id:"cctv-wizard",name:"Cotizador CCTV 3D",status:"public",revenue:1500,users:45},{id:"pozo-tierra",name:"Generador Protocolos Pozo",status:"locked",revenue:450,users:12},{id:"fugas-bot",name:"Detector Fugas IA",status:"private",revenue:0,users:0}]);d.useEffect(()=>{const s=a.map(r=>({...r,status:localStorage.getItem(`permiso_${r.id}`)||r.status}));x(s)},[]);const c=(s,r)=>{x(a.map(t=>t.id===s?(localStorage.setItem(`permiso_${t.id}`,r),{...t,status:r}):t))};return e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 shadow-lg relative overflow-hidden group",children:[e.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(N,{size:80})}),e.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Ingresos Mensuales"}),e.jsx("p",{className:"text-3xl font-black text-green-400 mt-2 font-mono",children:"S/ 2,450.00"}),e.jsxs("div",{className:"flex items-center gap-1 text-green-500 text-xs mt-2",children:[e.jsx(_e,{size:12})," +12% vs mes anterior"]})]}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:e.jsx(Ie,{size:80})}),e.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Usuarios Activos"}),e.jsx("p",{className:"text-3xl font-black text-blue-400 mt-2 font-mono",children:"142"}),e.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"Clientes y Técnicos"})]}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:e.jsx(C,{size:80})}),e.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Estado del Sistema"}),e.jsx("p",{className:"text-3xl font-black text-purple-400 mt-2 font-mono",children:"ONLINE"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"relative flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),e.jsx("span",{className:"text-xs text-green-400",children:"Servidores Operativos"})]})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-800 shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-800 bg-slate-800/50",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[e.jsx(B,{className:"text-yellow-400 fill-yellow-400"})," Centro de Comando SaaS"]})}),e.jsx("div",{className:"divide-y divide-slate-800",children:a.map(s=>e.jsxs("div",{className:"p-6 flex flex-col md:flex-row md:items-center justify-between gap-4 hover:bg-slate-800/30 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.status==="public"?"bg-green-500/20 text-green-400":s.status==="locked"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:s.status==="public"?e.jsx(ce,{size:24}):s.status==="locked"?e.jsx(N,{size:24}):e.jsx(R,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-slate-400",children:["ID: ",e.jsx("span",{className:"font-mono text-xs",children:s.id})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-950 p-1 rounded-lg border border-slate-800",children:[e.jsx("button",{onClick:()=>c(s.id,"public"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${s.status==="public"?"bg-green-600 text-white shadow-lg":"text-slate-500 hover:text-white"}`,children:"Público"}),e.jsx("button",{onClick:()=>c(s.id,"locked"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${s.status==="locked"?"bg-yellow-600 text-white shadow-lg":"text-slate-500 hover:text-white"}`,children:"De Pago ($)"}),e.jsx("button",{onClick:()=>c(s.id,"private"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${s.status==="private"?"bg-red-600 text-white shadow-lg":"text-slate-500 hover:text-white"}`,children:"Privado"})]})]},s.id))})]})]})}function Te(){const[a,x]=d.useState([]),[c,s]=d.useState(null),[r,t]=d.useState({price:"",name:""}),[m,n]=d.useState(!1),[o,p]=d.useState({id:"",name:"",price:"",category:"cctv",image:"sin-imagen.jpg"});d.useEffect(()=>{const l=g(w(h,"productos"),u=>{const A=u.docs.map(f=>({id:f.id,...f.data()}));x(A)});return()=>l()},[]);const D=l=>{s(l.id),t({price:l.price,name:l.name})},I=async()=>{try{const l=b(h,"productos",c);await j(l,{price:Number(r.price),name:r.name}),s(null)}catch(l){alert("Error al guardar: "+l.message)}},E=async l=>{if(l.preventDefault(),!o.id||!o.name||!o.price)return alert("Llena los datos");try{await k(b(h,"productos",o.id),{id:o.id,name:o.name,price:Number(o.price),category:o.category,image:o.image,description:"Descripción pendiente..."}),n(!1),p({id:"",name:"",price:"",category:"cctv",image:"sin-imagen.jpg"}),alert("¡Producto creado!")}catch(u){alert("Error al crear: "+u.message)}},$=async l=>{confirm("¿Estás seguro de eliminar este producto? Esta acción no se puede deshacer.")&&await L(b(h,"productos",l))};return e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-2xl h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-slate-800 bg-slate-800/50 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(_,{className:"text-blue-400"})," Inventario en Nube"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Datos sincronizados con Firebase."})]}),e.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-lg hover:scale-105 transition-all",children:[e.jsx(q,{size:18})," Nuevo Producto"]})]}),m&&e.jsxs("div",{className:"bg-slate-800 p-6 border-b border-blue-500/30 animate-fadeIn",children:[e.jsx("h4",{className:"font-bold text-white mb-4",children:"✨ Agregando nuevo item"}),e.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400",children:"ID Único (ej: camara-x1)"}),e.jsx("input",{type:"text",value:o.id,onChange:l=>p({...o,id:l.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white",placeholder:"codigo-unico"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400",children:"Nombre"}),e.jsx("input",{type:"text",value:o.name,onChange:l=>p({...o,name:l.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white",placeholder:"Nombre comercial"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400",children:"Precio (S/)"}),e.jsx("input",{type:"number",value:o.price,onChange:l=>p({...o,price:l.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400",children:"Nombre de Archivo de Imagen"}),e.jsx("input",{type:"text",value:o.image,onChange:l=>p({...o,image:l.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white",placeholder:"foto.jpg"})]}),e.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded font-bold hover:bg-green-500",children:"Guardar en Nube"})]})]})]}),e.jsx("div",{className:"overflow-x-auto flex-1",children:e.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[e.jsx("thead",{className:"bg-slate-950 text-slate-200 uppercase font-bold text-xs sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 bg-slate-950",children:"ID / Imagen"}),e.jsx("th",{className:"p-4 bg-slate-950",children:"Producto"}),e.jsx("th",{className:"p-4 bg-slate-950",children:"Precio"}),e.jsx("th",{className:"p-4 bg-slate-950 text-right",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800",children:a.map(l=>e.jsxs("tr",{className:"hover:bg-slate-800/30",children:[e.jsxs("td",{className:"p-4 font-mono text-xs",children:[e.jsx("div",{className:"text-white font-bold",children:l.id}),e.jsx("div",{className:"text-slate-600 truncate max-w-[100px]",children:l.image})]}),e.jsx("td",{className:"p-4",children:c===l.id?e.jsx("input",{autoFocus:!0,type:"text",value:r.name,onChange:u=>t({...r,name:u.target.value}),className:"bg-slate-800 text-white p-1 rounded border border-blue-500 w-full"}):e.jsx("span",{className:"font-bold text-white",children:l.name})}),e.jsx("td",{className:"p-4",children:c===l.id?e.jsx("input",{type:"number",value:r.price,onChange:u=>t({...r,price:u.target.value}),className:"bg-slate-800 text-white p-1 rounded border border-green-500 w-20 font-bold"}):e.jsxs("span",{className:"text-green-400 font-bold",children:["S/ ",l.price]})}),e.jsx("td",{className:"p-4 text-right flex justify-end gap-2",children:c===l.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:I,className:"p-2 bg-green-600 text-white rounded",children:e.jsx(z,{size:16})}),e.jsx("button",{onClick:()=>s(null),className:"p-2 bg-slate-700 text-white rounded",children:e.jsx(Le,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>D(l),className:"p-2 text-blue-400 hover:bg-blue-900/30 rounded",children:e.jsx(je,{size:16})}),e.jsx("button",{onClick:()=>$(l.id),className:"p-2 text-red-400 hover:bg-red-900/30 rounded",children:e.jsx(Ce,{size:16})})]})})]},l.id))})]})})]})}const y=[{id:"h7c-dual",name:"EZVIZ H7c Dual Lens (Interior)",price:220,category:"wifi",description:"Doble lente para interiores. Una fija y una móvil para no perder ningún ángulo.",image:"h7c-dual.png"},{id:"imou-ranger-dual",name:"IMOU Ranger Dual 10MP",price:240,category:"wifi",description:"Potencia de 10MP con doble visión. Detección de mascotas y llanto de bebé.",image:"imou-ranger-dual.png"},{id:"tapo-c210",name:"TP-Link Tapo C210 2K",price:130,category:"wifi",description:"La opción económica y confiable. Resolución 3MP con giro 360°.",image:"tapo-c210.png"},{id:"h1c-mini",name:"EZVIZ H1c Compacta",price:90,category:"wifi",description:"Base magnética y gran angular. Ideal para espacios pequeños.",image:"h1c-mini.png"},{id:"h3c-color",name:"EZVIZ H3c Color (Bala)",price:190,category:"wired_wifi",description:"Cámara fija IP67. Visión nocturna a color y defensa activa con sirena.",image:"h3c-color.png"},{id:"h3-3k",name:"EZVIZ H3 3K Metal (Pro)",price:280,category:"wired_wifi",description:"Cuerpo de aluminio de alta resistencia. IA para detectar personas y vehículos.",image:"h3-3k.png"},{id:"h8c-ptz",name:"EZVIZ H8c PTZ Exterior",price:250,category:"wired_wifi",description:"Gira 360° para cubrir todo el patio. Seguimiento inteligente de personas.",image:"h8c-ptz.png"},{id:"tapo-c500",name:"Tapo C500 Exterior",price:210,category:"wired_wifi",description:"La PTZ económica para exteriores. Resistente al agua y polvo.",image:"tapo-c500.png"},{id:"h9c-dual",name:"EZVIZ H9c Dual (Gama Alta)",price:480,category:"wired_wifi",description:"Doble Lente Exterior. Monitorea dos zonas al mismo tiempo con una sola cámara.",image:"h9c-dual.png"},{id:"h80f-triple",name:"EZVIZ H80f TRIPLE Lente (Premium)",price:680,category:"wired_wifi",description:"Tecnología de punta: 3 Lentes para zoom óptico real y visión panorámica total.",image:"h80f-triple.png"},{id:"eb8-4g",name:"EZVIZ EB8 4G + Panel Solar",price:750,category:"solar_4g",description:"100% Inalámbrica. Usa Chip celular y se carga con el sol. Perfecta para obras.",image:"eb8-4g.png"},{id:"eb3-bat",name:"EZVIZ EB3 Batería (Larga Duración)",price:320,category:"battery_wifi",description:"Hasta 120 días de batería con una sola carga. Sin cables ni complicaciones.",image:"eb3-bat.png"},{id:"nvr-wifi",name:"Grabador NVR Wi-Fi 8 Canales",price:280,category:"accessory",description:"Centraliza la grabación de tus cámaras inalámbricas para mayor seguridad.",image:"nvr-wifi.png"},{id:"microsd-64",name:"Memoria MicroSD 64GB Clase 10",price:45,category:"storage_card",description:"Grabación individual en cada cámara (aprox 4-6 días).",image:"microsd.png"},{id:"hdd-1tb",name:"Disco Duro WD Purple 1TB",price:270,category:"storage",description:"Disco especial para vigilancia 24/7 (requiere NVR).",image:"hdd-purple.png"},{id:"hdd-2tb",name:"Disco Duro WD Purple 2TB",price:420,category:"storage",description:"Doble capacidad para proyectos con más de 4 cámaras.",image:"hdd-purple.png"},{id:"bobina-cat6",name:"Metro Cableado UTP Certificado",price:2.5,category:"cable",description:"Cable 100% cobre con canaletas y accesorios de fijación.",image:"bobina-cat6.png"},{id:"kit-materiales",name:"Kit de Instalación",price:35,category:"kit_por_camara",description:"Cajas estancas, conectores de energía y video.",image:"bobina-cat6.png"}];function Ze(){const[a,x]=d.useState("idle"),[c,s]=d.useState(""),r=async()=>{if(confirm(`Se van a sobrescribir los datos en Firebase con los ${y.length} productos de tu JSON. ¿Continuar?`)){x("loading"),s("Iniciando carga masiva...");try{const t=V(h);let m=0;y.forEach(n=>{const o=b(h,"productos",n.id);let p=n.image;p.includes("/")&&(p=p.split("/").pop()),t.set(o,{id:n.id,name:n.name,price:Number(n.price),category:n.category,description:n.description||"",features:n.features||[],image:p}),m++}),s(`Preparando ${m} productos...`),await t.commit(),x("success"),s(`¡Éxito! ${m} productos sincronizados en la Nube.`),alert("Migración completada correctamente.")}catch(t){console.error(t),x("error"),s("Error: "+t.message)}}};return e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-xl",children:[e.jsxs("h3",{className:"text-white font-bold mb-2 flex items-center gap-2 text-lg",children:[e.jsx(M,{className:"text-blue-400"})," Migración de Datos (JSON → Nube)"]}),e.jsxs("p",{className:"text-slate-400 text-sm mb-6",children:["Esta herramienta lee tu archivo ",e.jsx("code",{children:"cctv-products.json"})," local y sube la información a Firebase.",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-500 text-xs",children:"Nota: Las imágenes se quedan en tu PC, solo subimos los nombres y precios."})]}),e.jsxs("div",{className:"flex items-center justify-between bg-slate-900 p-4 rounded-lg border border-slate-800",children:[e.jsx("div",{className:"text-sm font-mono text-slate-300",children:c||"Esperando orden..."}),e.jsxs("button",{onClick:r,disabled:a==="loading",className:`px-6 py-2 rounded-lg font-bold flex items-center gap-2 transition-all shadow-lg ${a==="success"?"bg-green-600 text-white hover:bg-green-500":a==="loading"?"bg-slate-600 text-slate-300 cursor-wait":"bg-blue-600 hover:bg-blue-500 text-white hover:scale-105"}`,children:[a==="loading"&&e.jsx(se,{className:"animate-bounce"}),a==="success"&&e.jsx(J,{size:18}),a==="error"&&e.jsx(Se,{size:18}),a==="loading"?"Subiendo...":"Sincronizar Ahora"]})]})]})}function He(){const[a,x]=d.useState({manoObra:0,precioMetroCable:0,mensajeWhatsapp:""}),[c,s]=d.useState(!0),[r,t]=d.useState(!1);d.useEffect(()=>{const n=b(h,"configuracion","global"),o=g(n,p=>{p.exists()?x(p.data()):k(n,{manoObra:80,precioMetroCable:2.5,mensajeWhatsapp:"Hola Quilla, me interesa esta cotización:"}),s(!1)});return()=>o()},[]);const m=async n=>{n.preventDefault(),t(!0);try{await j(b(h,"configuracion","global"),{manoObra:Number(a.manoObra),precioMetroCable:Number(a.precioMetroCable),mensajeWhatsapp:a.mensajeWhatsapp}),alert("¡Configuración actualizada!")}catch(o){console.error(o),alert("Error al guardar")}t(!1)};return c?e.jsx("div",{className:"text-slate-400 p-4",children:"Cargando ajustes..."}):e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 shadow-xl max-w-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-800 pb-4",children:[e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400",children:e.jsx(S,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Variables del Cotizador"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Define los costos base de tus servicios."})]})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase flex items-center gap-2",children:[e.jsx($e,{size:14})," Mano de Obra (x Cámara)"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-slate-500 font-bold",children:"S/"}),e.jsx("input",{type:"number",value:a.manoObra,onChange:n=>x({...a,manoObra:n.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg py-2 pl-10 pr-4 text-white focus:border-purple-500 outline-none transition-colors"})]}),e.jsx("p",{className:"text-[10px] text-slate-500",children:"Costo base por instalar cada cámara."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase flex items-center gap-2",children:[e.jsx(C,{size:14})," Metro de Cable"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-slate-500 font-bold",children:"S/"}),e.jsx("input",{type:"number",step:"0.1",value:a.precioMetroCable,onChange:n=>x({...a,precioMetroCable:n.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg py-2 pl-10 pr-4 text-white focus:border-purple-500 outline-none transition-colors"})]}),e.jsx("p",{className:"text-[10px] text-slate-500",children:"Precio cobrado al cliente por metro extra."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase flex items-center gap-2",children:[e.jsx(ue,{size:14})," Saludo de WhatsApp"]}),e.jsx("textarea",{rows:"2",value:a.mensajeWhatsapp,onChange:n=>x({...a,mensajeWhatsapp:n.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:border-green-500 outline-none transition-colors text-sm"})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg shadow-purple-900/20",children:r?"Guardando...":e.jsxs(e.Fragment,{children:[e.jsx(z,{size:18})," Guardar Configuración"]})})]})]})}function Oe(){const[a,x]=d.useState([]);d.useEffect(()=>{const s=T(w(h,"prospectos"),H("date","desc"),Z(50)),r=g(s,t=>{x(t.docs.map(m=>({id:m.id,...m.data()})))});return()=>r()},[]);const c=async s=>{const r=s.status==="new"?"contacted":"new";await j(b(h,"prospectos",s.id),{status:r})};return e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"p-6 border-b border-slate-800 bg-slate-800/50",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(P,{className:"text-green-400"})," Prospectos Interesados (CRM)"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Clientes que llegaron al final del cotizador."})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[e.jsx("thead",{className:"bg-slate-950 text-slate-200 uppercase font-bold text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Estado"}),e.jsx("th",{className:"p-4",children:"Fecha"}),e.jsx("th",{className:"p-4",children:"Cliente"}),e.jsx("th",{className:"p-4",children:"Proyecto"}),e.jsx("th",{className:"p-4 text-right",children:"Total (Aprox)"}),e.jsx("th",{className:"p-4 text-center",children:"Acción"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800",children:a.map(s=>e.jsxs("tr",{className:`hover:bg-slate-800/30 transition-colors ${s.status==="new"?"bg-blue-900/10":""}`,children:[e.jsx("td",{className:"p-4",children:s.status==="new"?e.jsxs("span",{className:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs font-bold flex w-fit gap-1 items-center",children:[e.jsx(F,{size:12})," Nuevo"]}):e.jsxs("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-bold flex w-fit gap-1 items-center",children:[e.jsx(Y,{size:12})," Atendido"]})}),e.jsxs("td",{className:"p-4 text-xs font-mono",children:[s.date?.toDate?s.date.toDate().toLocaleDateString():"Reciente",e.jsx("div",{className:"text-slate-500",children:s.date?.toDate?s.date.toDate().toLocaleTimeString():""})]}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-white",children:s.clientName}),e.jsxs("div",{className:"text-xs flex items-center gap-1 text-slate-500",children:[e.jsx(v,{size:10})," ",s.clientPhone||"Sin número"]})]}),e.jsxs("td",{className:"p-4 text-xs",children:[e.jsx("div",{className:"text-slate-300",children:s.itemsSummary}),e.jsx("div",{className:"text-slate-500 italic",children:s.installType})]}),e.jsxs("td",{className:"p-4 text-right font-bold text-green-400",children:["S/ ",s.totalAmount]}),e.jsxs("td",{className:"p-4 text-center",children:[e.jsx("button",{onClick:()=>c(s),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-300",title:"Cambiar Estado",children:e.jsx(re,{size:18})}),e.jsx("a",{href:`https://wa.me/51${s.clientPhone}`,target:"_blank",className:"p-2 hover:bg-green-900/30 text-green-500 rounded-lg ml-2 inline-block",children:e.jsx(v,{size:18})})]})]},s.id))})]}),a.length===0&&e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Aún no hay cotizaciones registradas."})]})]})}function Be(){return e.jsxs("button",{onClick:async()=>{await G()},type:"button",className:"w-full flex items-center justify-center gap-2 text-xs text-red-400 hover:text-red-300 hover:bg-red-500/10 py-2 rounded-lg transition-colors cursor-pointer font-bold",children:[e.jsx(xe,{size:14}),"Cerrar Sesión"]})}function Ue(){const[a,x]=d.useState("inventory"),[c,s]=d.useState(!1),r=[{id:"inventory",label:"Inventario CCTV",icon:_,description:"Gestiona productos y precios en tiempo real"},{id:"crm",label:"Clientes (CRM)",icon:P,description:"Prospectos y cotizaciones recibidas"},{id:"saas",label:"Control SaaS",icon:ne,description:"Configuración de precios base y herramientas"},{id:"data",label:"Base de Datos",icon:M,description:"Utilidades de backup y migración"}];return e.jsxs("div",{className:"flex h-screen bg-slate-950 text-white overflow-hidden font-sans",children:[e.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 border-r border-slate-800 transition-transform duration-300 ease-in-out
        md:relative md:translate-x-0
        ${c?"translate-x-0":"-translate-x-full"}
      `,children:[e.jsx("div",{className:"h-20 flex items-center px-6 border-b border-slate-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center font-bold text-lg shadow-lg shadow-blue-900/20",children:"Q"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"font-bold text-lg tracking-tight leading-none",children:["Quilla",e.jsx("span",{className:"text-blue-500",children:"OS"})]}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold mt-1",children:"Panel Admin v2.2"})]})]})}),e.jsxs("nav",{className:"p-4 space-y-2 overflow-y-auto h-[calc(100vh-180px)]",children:[e.jsx("p",{className:"px-4 text-xs font-bold text-slate-500 uppercase mb-2 mt-2",children:"Menú Principal"}),r.map(t=>e.jsxs("button",{onClick:()=>{x(t.id),s(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group text-sm font-medium ${a===t.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[e.jsx(t.icon,{size:20,className:a===t.id?"text-white":"text-slate-500 group-hover:text-white"}),t.label,t.id==="crm"&&e.jsx("span",{className:"ml-auto w-2 h-2 bg-green-500 rounded-full animate-pulse"})]},t.id)),e.jsx("p",{className:"px-4 text-xs font-bold text-slate-500 uppercase mb-2 mt-6",children:"Sistema"}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:bg-slate-800 hover:text-white transition-all text-sm font-medium",children:[e.jsx(S,{size:20,className:"text-slate-500"}),"Ajustes Generales"]})]}),e.jsxs("div",{className:"absolute bottom-0 w-full p-4 border-t border-slate-800 bg-slate-900",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-slate-700 to-slate-600 border border-slate-500"}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-bold truncate",children:"Administrador"}),e.jsxs("p",{className:"text-xs text-green-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})," En Línea"]})]})]}),e.jsx(Be,{})]})]}),e.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden bg-slate-950 relative",children:[e.jsxs("header",{className:"h-20 border-b border-slate-800 bg-slate-950/80 backdrop-blur-md flex items-center justify-between px-8 sticky top-0 z-40",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>s(!c),className:"md:hidden text-slate-400 hover:text-white",children:e.jsx(me,{})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white capitalize flex items-center gap-2",children:[r.find(t=>t.id===a)?.icon&&O.createElement(r.find(t=>t.id===a).icon,{size:24,className:"text-blue-500"}),r.find(t=>t.id===a)?.label]}),e.jsx("p",{className:"text-sm text-slate-400 hidden md:block",children:r.find(t=>t.id===a)?.description})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx(ye,{className:"absolute left-3 top-2.5 text-slate-500",size:16}),e.jsx("input",{type:"text",placeholder:"Buscar en el sistema...",className:"bg-slate-900 border border-slate-800 rounded-full py-2 pl-10 pr-4 text-sm focus:outline-none focus:border-blue-500 w-64 text-slate-300 transition-all focus:w-80"})]}),e.jsxs("button",{className:"p-2 text-slate-400 hover:text-white relative bg-slate-900 rounded-full border border-slate-800 hover:border-slate-600 transition-colors",children:[e.jsx(K,{size:20}),e.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-slate-900"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth",children:e.jsxs("div",{className:"max-w-7xl mx-auto animate-fadeIn pb-20",children:[a==="inventory"&&e.jsx(Te,{}),a==="crm"&&e.jsx(Oe,{}),a==="saas"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx(He,{}),e.jsxs("div",{className:"opacity-75",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"h-px bg-slate-800 flex-1"}),e.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold",children:"Herramientas Legacy"}),e.jsx("span",{className:"h-px bg-slate-800 flex-1"})]}),e.jsx(Ve,{})]})]}),a==="data"&&e.jsx(Ze,{})]})})]}),c&&e.jsx("div",{onClick:()=>s(!1),className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-40 md:hidden animate-fadeIn"})]})}export{Ue as default};
